module.exports = `

F_EX3_sleep,
	HEX 0
	SLP
	BUN F_EX3_sleep I

F_EX3_get_random,
	HEX 0
	RND
	BSA F_PUSH
	BUN F_EX3_get_random I

F_EX3_get_key_state,
	HEX 0
	BTN
	AND (1)
	BSA F_PUSH
	BTN
	AND (2)
	BSA F_PUSH
	BTN
	AND (4)
	BSA F_PUSH
	BTN
	AND (8)
	BSA F_PUSH
	BUN F_EX3_get_key_state I

F_USR_print,
F_EX3_output_7seg,
	HEX 0
	BSA F_POP
	SEG
	BUN F_EX3_output_7seg I

F_EX3_draw_static_sprite,
	HEX 0
	BSA F_POP
	SLY
	BSA F_POP
	SLX
	BSA F_POP
	MUL (64)
	STA R_T1
	BSA F_POP
	ADD R_T1
	WRT
	BUN F_EX3_draw_static_sprite I
	
F_EX3_draw_dynamic_sprite,
	HEX 0
	LDA (-1)
	SLX
	BSA F_POP
	SLY
	BSA F_POP
	TRY
	BSA F_POP
	TRX
	BSA F_POP
	MUL (64)
	STA R_T1
	BSA F_POP
	ADD R_T1
	WRT
	BUN F_EX3_draw_dynamic_sprite I

F_OR,
	HEX 0
	BSA F_POP
	CMA
	STA R_T0
	BSA F_POP
	CMA
	AND R_T0
	CMA
	BSA F_PUSH
	BUN F_OR I

F_ACCESS_HUGE_ARRAY,
	HEX 0
	BSA F_POP
	STA R_T0
	BSA F_POP
	CLE
	CIR
	STA R_T1
	CLA
	SZE
	INC
	STA R_T2
	LDA R_T1
	ADD R_T0
	STA R_T1
	BUN F_ACCESS_HUGE_ARRAY I

F_WRITE_HUGE_ARRAY,
	HEX 0
	BSA F_ACCESS_HUGE_ARRAY
	LDA R_T2
	SZA
	BUN L_F_WRITE_UPPER
	BUN L_F_WRITE_LOWER
L_F_WRITE_UPPER,
	BSA F_POP
	CIL
	CIL
	CIL
	CIL
	CIL
	CIL
	CIL
	CIL
	AND (65280)
	BSA F_PUSH
	LDA R_T1 I
	AND (255)
	BSA F_PUSH
	BSA F_OR
	BSA F_POP
	BUN L_F_WRITE_END
L_F_WRITE_LOWER,
	BSA F_POP
	AND (255)
	BSA F_PUSH
	LDA R_T1 I
	AND (65280)
	BSA F_PUSH
	BSA F_OR
	BSA F_POP
L_F_WRITE_END,
	STA R_T1 I
	BUN F_WRITE_HUGE_ARRAY I

F_READ_HUGE_ARRAY,
	HEX 0
	BSA F_ACCESS_HUGE_ARRAY
	LDA R_T1 I
	STA R_T1
	LDA R_T2
	SZA
	BUN L_F_READ_UPPER
	BUN L_F_READ_LOWER
L_F_READ_UPPER,
	LDA R_T1
	CIR
	CIR
	CIR
	CIR
	CIR
	CIR
	CIR
	CIR
	BUN L_F_READ_END
L_F_READ_LOWER,
	LDA R_T1
L_F_READ_END,
	AND (255)
	BSA F_PUSH
	BUN F_READ_HUGE_ARRAY I

F_PUSH,
	HEX 0
	STA R_ESP I
	LDA R_ESP
	INC
	STA R_ESP
	BUN F_PUSH I

F_POP,
	HEX 0
	LDA R_ESP
	ADD (-1)
	STA R_ESP
	LDA R_ESP I
	BUN F_POP I

R_T0,  HEX 0
R_T1,  HEX 0
R_T2,  HEX 0
R_T3,  HEX 0
R_T4,  HEX 0
R_T5,  HEX 0

R_ESP, SYM STACK

`;
